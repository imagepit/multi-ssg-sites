---
title: "Kiroで徹底的に仕様と設計を煮詰める ~ requirements, design, tasks 別プロンプト ~"
source: "https://qiita.com/pianopia/items/79950fb7bff1fa485d14"
author:
  - "[[pianopia]]"
published: 2025-08-06
created: 2025-10-10
description: "はじめに KiroのSpec開発では下記のように順にLLMが仕様設計を進めていきます。 1. 要件定義（requirements） 2. 設計（design） 3. 実装タスク化（tasks） こうしてKiroによる新規プロジェクトを作成する際に、個人的に見逃しやす..."
tags:
  - "clippings"
---

:::note
## 記事要約

**「Kiroで徹底的に仕様と設計を煮詰める ~ requirements, design, tasks 別プロンプト ~」**

### 概要
この記事は、AI開発ツール「Kiro」を使用してプロジェクトの仕様設計を行う際に、見逃しやすい重要な観点を整理し、効果的なプロンプト例を提供する内容です。

### 主要ポイント

#### 1. Kiroの仕様設計フロー
- **要件定義（requirements）** → **設計（design）** → **実装タスク化（tasks）** の3段階で進行

#### 2. 要件定義で見逃しやすい観点
- **具体的なゴール設定**：達成したいことを明確に
- **対応デバイス・OS**：レスポンシブ対応、ブラウザ対応の明記
- **収益・ビジネスモデル**：API課金、広告収益などのキャッシュポイント
- **運用・SLA**：耐障害性、障害報告フローの設計
- **法規制・セキュリティ**：景品表示法、プライバシーポリシー対応

#### 3. 設計で重要な要素
- **画面構成**：具体的な比率やレイアウト指定
- **ログ設計**：エラー解析用のログフォーマット
- **アナリティクス**：Google Analytics 4などの解析設定
- **パフォーマンス**：キャッシュ戦略、レコメンドエンジン設計
- **SEO・OGP**：検索対策、SNS対応
- **技術選定**：Next.js、TailwindCSS、TypeScript等の明記
- **環境設定**：開発・ステージング・本番環境の切り替え
- **運用コスト**：ベンダーロック回避、メンテナンス性考慮

#### 4. 実装タスクで追加すべき項目
- **ドキュメント作成**：DB設計書、API設計書、I/F定義書
- **CI/CD**：Dockerfile、Terraform等のデプロイスクリプト
- **タスク詳細化**：大きなタスクのブレークダウン

### 記事の価値
Kiroは多くのことを自動で行ってくれるため、重要な観点が抜け落ちがちになる問題を解決する実践的なガイドとして、プロジェクトマネジメントの視点から網羅的な設計を実現するためのプロンプト集を提供しています。

:::


https://relay-dsp.ad-m.asia/dmp/sync/bizmatrix?pid=c3ed207b574cf11376&d=x18o8hduaj&uid=40035

## Qiita Conference 2025 Autumn

![](https://cdn.qiita.com/assets/public/client-resources/image-yukihiro_matz-62ee5a1ddc705baf-62ee5a1ddc705baf.png)

まつもとゆきひろ

ベテランによるAI時代のプログラミング（2025年秋版）

[特設サイトで詳細をチェック](https://qiita.com/official-campaigns/conference/2025-autumn)

## はじめに

**Kiro** のSpec開発では下記のように順にLLMが仕様設計を進めていきます。

**1\. 要件定義（requirements）**  
**2\. 設計（design）**  
**3\. 実装タスク化（tasks）**

こうして **Kiro** による新規プロジェクトを作成する際に、個人的に **見逃しやすい観点** をこちらにまとめつつ、よく使う修正プロンプト群として記載していきたいと思います。

[![スクリーンショット 2025-08-07 18.18.43.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/110418/3724107a-2dfb-4ce2-b32c-cb4e229cbbdf.png)](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F110418%2F3724107a-2dfb-4ce2-b32c-cb4e229cbbdf.png?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=71c9c713a4a7ea43b6cbe5940332e1be)

---

## 1\. 要件定義　（Requirements）

### 1\. 達成したいことを具体的に

LLMはゴールを明確に示すことで、そこまでの過程のベストプラクティスを選びやすくなります。

プロンプト例

```
1. 商品分析を少ない手順で簡単に行えるようにしたい
```

### 2\. 対応デバイス、ディスプレイ、OSを具体的に

レスポンシブ対応がされていなかったり、  
Safari非対応のCSSを記載してしまうなど、そういったことが指定することで減ります。

プロンプト例

```
1. モバイルファーストかつ、レスポンシブにしてください

2. Chrome, Safari両方に対応させてください
```

### 3\. 収益・ビジネスモデル（キャッシュポイントの策定）

エンジニアとしては忘れがちですが、PMとしては押さえておかないといけないポイントです。

プロンプト例

```
1. APIリクエストによるトークン消費数ごとにStripeによる従量課金にしてください

2. 有料のバナー広告枠を販売することができるようにしてください
```

### 4\. 運用時に必要なSLA・サポート体制、運用フロー

こちらはKiroにはほとんどない視点です。  
プロジェクトマネジメント上必要だと思われることも記載していきましょう。

プロンプト例

```
1. 耐障害性を考慮してください

2. SLA定義書を作成してください

3. 障害時の報告フローをmermaidにて作成してください
```

### 5\. 法規制・セキュリティ・プライバシー対応

商取引法に基づく表記ページやプライバシーポリシー、Pricingのページなども見逃されやすいため記載しましょう。

プロンプト例

```
1. LPにて景品表示法の違反がないようにしてください

2. プライバシーポリシーのページを作成してください
```

---

## 2\. 設計　（Design）

### 1\. 具体的な画面構成

画面構成の比率などを伝えないと、意図しない画面になる可能性が高くなります。  
デザインのイメージなどがある場合はなるべく詳細に伝えておきましょう。

プロンプト例

```
1. 画面左側（30%）はサイドバー、残り右側（70%）はメニューごとのコンテンツ表示としてください
```

### 2\. ログ設計

こちらも非常に忘れやすいです。  
目的に応じてSlackなどへの通知も追加すると良いです。

プロンプト例

```
1. あとからエラー時の解析がしやすいようにログ設計を追加してください
1. ログのカラー設定や集計しやすいようにカスタムフォーマットを適用してください
```

### 3\. アナリティクス設計

ログ設計と似ていますが、アナリティクスプラットフォームによって異なるため、  
どのアナリティクスを使用するのかも記載しましょう。

プロンプト例

```
1. Google Analytics 4 によるアクセス解析を可能にしてください
```

### 4\. 具体的なキャッシュ戦略やパフォーマンス要件

エンジニアが忘れがちなポイントになります。  
どのようなビジネスモデルでキャッシュポイントはどこなのか、設定するとよりLLMが設定に合う構成で設計しやすくなります。

プロンプト例

```
1. Stripe Connectを使用して手数料をプラットフォーム側で取りつつ、コンテンツ配信者へ収益を分配するようにしてください
2. レコメンドエンジンは精度とともにパフォーマンスも重視して設計してください
```

### 5\. SEO、GEO、LLMO、OGP設定

時々、sitemapを作成してください。だけだと、ビルド時にSitemap自動生成を組んでしまったり、Admin画面をインデックスしてしまったりするので注意です。

プロンプト例

```
1. 一般的なSEO対策を行なってください
2. 各ページにOGPを設定してください。共通化できる場所は共通化してください。
2. sitemapを作成してください
```

### 6\. 可用性・障害復旧・SLA準拠

こちらは運用フロー、保守などについても策定できると良しです。

プロンプト例

```
1. SLAをドキュメントとして作成してください
```

### 7\. 具体的な採用技術・ライブラリ

意外とこちらも記載が必要になってきます。  
Webフレームワークや使用するライブラリはなるべく詳細に記載することで、その後の実装時にブレが少なく済みます。

プロンプト例

```
1. Next.js, TailwindCSS, Typescriptの構成で作成してください

2. DBへの接続はDrizzleで行い、DBはPostgreSQLにしてください
```

### 8\. 環境ごとの設定について

ローカル環境、開発環境、ステージング環境、本番環境など環境ごとの差分も見逃されがちです。  
必要な場合はKiroの設計に組み込みましょう。

```text
1. ローカル環境、開発環境、ステージング環境、本番環境ごとにDBの接続先を切り替えられるようにしてください
```

### 9\. 複雑な仕様やプロジェクト構成についての追記

例えば、『CloudRun上でBasic認証をかけたいけれども、ログイン認証にユーザーも管理者もいてそれぞれ別認証かつ同じNextAuthで定義する』という複雑な仕様の場合LLMが混乱します。  
そういった混乱しやすい仕様やプロジェクト構成についても、あらかじめ渡しておきましょう。

```text
1. ユーザーと管理者のログイン認証にはNextAuthを使用しますが、Basic認証については.httaccessで対応します。

2. DB定義は/db/drizzle.config.tsに記載しています。ルートディレクトリにあるdrizzle.config.tsではありません。
```

### 10\. 運用・保守のコスト

こちらも非常に見逃されがちです。  
特にベンダーロックやライブラリのメンテナンス性において問題が起きがちです。

```text
1. 記載していないインフラ構成やライブラリ選定において運用・保守コストが高くなる可能性のあるものを選択しないようにしてください

2. 指定していない使用ライブラリについては、なるべくメジャーかつメンテナンスが頻繁に行われているものを使用してください
```

---

## 3\. 実装タスク　（Tasks）

Kiroでは意外にテストについてはほとんどタスクに追加してくれます。  
そのためそれ以外でそのままでは生成してくれないTasksフェーズのプロンプトを記載します。

### 1\. ドキュメント作成

指定しないとDB設計書やOpenAPIドキュメントが作られないことが多いです

プロンプト例

```
1. DB設計書、API設計書、I/F定義書をそれぞれに適したフォーマットで作成してください
```

### 2\. CI/CD、デプロイのためのスクリプト

DockerfileやmakefileなどCI/CD周りは用意してくれないことが多いため、指示が必要です

プロンプト例

```
1. CloudRunにデプロイするためのDockerfileを作成してください

2. 環境構築のためのTerraformを作成してください
```

### 3\. 難しいタスクについての詳細化

たまに大きなタスクが１項目として記載されてしまい、LLMによる実装が難しくなる場合があるため、タスクのブレークダウンが必要な場合があります。

プロンプト例

```
1. 〜のタスクは実装範囲が大きいため、細かいタスクにブレークダウンして記載してください
```

## まとめ

Kiroを使って仕様を作成するときには、いろいろやってくれてしまうため、  
意外とサービスを始める時には重要な点が入っていないまま気が付かず設計フェーズを終えてしまいます。  
そのため上記のリストを参考に、Kiroに追加のプロンプトを指示して網羅的に設計できるようにしていただけたら幸いです。

もしKiroでこのプロンプトもおすすめだよ！というものがあればぜひ教えてください。

[0](https://qiita.com/pianopia/items/#comments)

コメント一覧へ移動

X（Twitter）でシェアする

Facebookでシェアする

はてなブックマークに追加する

## Qiita Conference 2025 Autumn 11月5日(水)~7日(金)開催！

![](https://cdn.qiita.com/assets/public/official_campaigns/qiita_conference_2025_autumn/image-conference_2025_autumn_ogp-7cf3021de31b9ab76a7b3bbaf2909bb5.png)

Qiita Conferenceは、AI時代のエンジニアに贈るQiita最大規模のテックカンファレンスです！

基調講演ゲスト(敬称略)

piacere、牛尾 剛、Esteban Suarez、和田 卓人、seya、ミノ駆動、市谷 聡啓、からあげ、岩瀬 義昌、まつもとゆきひろ、みのるん and more…

[イベント詳細を見る](https://qiita.com/official-campaigns/conference/2025-autumn)

[16](https://qiita.com/pianopia/items/79950fb7bff1fa485d14/likers)

いいねしたユーザー一覧へ移動

3